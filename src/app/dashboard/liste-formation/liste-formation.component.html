<div class="main-content">
    <button class="btn btn-primary btn-sm" (click)="openAddFormationDialog()">Add New Formation</button>

    <div class="table-responsive">
        <table mat-table [dataSource]="formations" class="mat-elevation-z8">
        
            <!-- Image Column -->
            <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef> Image </th>
                <td mat-cell *matCellDef="let formation"> 
                    <img [src]="formation.image" alt="Formation Image" style="max-width: 100px;"> 
                </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="nomformation">
                <th mat-header-cell *matHeaderCellDef> Nom Formation </th>
                <td mat-cell *matCellDef="let formation"> {{ formation.nomformation }} </td>
            </ng-container>
        
            <!-- Duration Column -->
            <ng-container matColumnDef="duree">
                <th mat-header-cell *matHeaderCellDef> Durée </th>
                <td mat-cell *matCellDef="let formation"> {{ formation.duree }} </td>
            </ng-container>
        
            <!-- Price Column -->
            <ng-container matColumnDef="prix">
                <th mat-header-cell *matHeaderCellDef> Prix </th>
                <td mat-cell *matCellDef="let formation"> {{ formation.prix }} </td>
            </ng-container>
        
            <!-- Level Column -->
            <ng-container matColumnDef="niveau">
                <th mat-header-cell *matHeaderCellDef> Niveau </th>
                <td mat-cell *matCellDef="let formation"> {{ formation.niveau }} </td>
            </ng-container>
        
            <!-- Category Column -->
            <ng-container matColumnDef="categorie">
                <th mat-header-cell *matHeaderCellDef> Catégorie </th>
                <td mat-cell *matCellDef="let formation"> {{ formation.categorie.nom | json }} </td>
            </ng-container>
            
            <!-- Actions Column -->
            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef> Actions </th>
                <td mat-cell *matCellDef="let formation">
                    <button class="btn btn-primary btn-sm" (click)="openUpdateFormationModal(formation)">Update</button>
                    <button class="btn btn-danger btn-sm" (click)="deleteFormation(formation._id)">Delete</button>
                </td>
            </ng-container>               

            <!-- Define the order and visibility of columns -->
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>
</div>
<app-sidebar></app-sidebar>
